USE lab_1;
CREATE TABLE EMPLOYEE 
(CODE INT(10),NAME CHAR(20),
DOB DATE NOT NULL,DESIGNATION CHAR(25),
SALARY INT);
INSERT INTO EMPLOYEE VALUES
 ('006','AMY','1989-04-24','PROJECT DESIGNER','80000'),
 ('014','RAYMOND','1976-02-08','SALES MANAGER','60000'),
  ('023','JAKE','1988-08-18','ACCOUNTANT','50000'),
  ('026','ROSE','1991-04-29','CLERK','40000'),
 ('030','CHARLES','1988-04-16','CLERK','40000'),
 ('037','TERRY','1983-01-25','CLERK','40000');
DELIMITER $$
CREATE TRIGGER INSERT_PREVENT
BEFORE INSERT
ON EMPLOYEE FOR EACH ROW
BEGIN
IF (CURRENT_TIME() BETWEEN '17:00' 
AND '00:00' ) THEN
SIGNAL SQLSTATE '45000' SET 
MESSAGE_TEXT = 'NO CHANGES TO EMPLOYEE TABLE';
END IF;
END $$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER UPDATE_PREVENT
BEFORE UPDATE
ON EMPLOYEE FOR EACH ROW
BEGIN
IF (CURRENT_TIME() BETWEEN '17:00'
 AND '00:00' ) THEN
 SIGNAL SQLSTATE '45000' SET 
 MESSAGE_TEXT = 'NO CHANGES TO
 EMPLOYEE TABLE';
 END IF;
 END $$
 DELIMITER ;
DELIMITER $$
CREATE TRIGGER DELETE_PREVENT
BEFORE DELETE
ON EMPLOYEE FOR EACH ROW
BEGIN
IF (CURRENT_TIME() BETWEEN '17:00' 
AND '00:00' ) THEN
SIGNAL SQLSTATE '45000' SET 
MESSAGE_TEXT = 'NO CHANGES TO
 EMPLOYEE TABLE';
 END IF;
 END $$
 DELIMITER ;